(()=>{var e={};e.id=998,e.ids=[998],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},1041:e=>{"use strict";e.exports=require("node:url")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},195:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),r(601),r(3978),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["swap",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,601)),"C:\\Users\\Dev projects\\Aggregator-jup\\src\\app\\swap\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,3978)),"C:\\Users\\Dev projects\\Aggregator-jup\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\Dev projects\\Aggregator-jup\\src\\app\\swap\\page.tsx"],d="/swap/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/swap/page",pathname:"/swap",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9946:(e,t,r)=>{Promise.resolve().then(r.bind(r,476))},476:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(326),a=r(7577),n=r(4185),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=a.createContext&&a.createContext(i),l=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var s,a;s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e){return t=>a.createElement(m,c({attr:d({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,d({key:r},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var r,{attr:s,size:n,title:i}=e,o=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,l),u=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,o,{className:r,style:d(d({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==o?a.createElement(o.Consumer,null,e=>t(e)):t(i)}function x(e){return p({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M95.5 104h320a87.73 87.73 0 0 1 11.18.71 66 66 0 0 0-77.51-55.56L86 94.08h-.3a66 66 0 0 0-41.07 26.13A87.57 87.57 0 0 1 95.5 104zm320 24h-320a64.07 64.07 0 0 0-64 64v192a64.07 64.07 0 0 0 64 64h320a64.07 64.07 0 0 0 64-64V192a64.07 64.07 0 0 0-64-64zM368 320a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]},{tag:"path",attr:{d:"M32 259.5V160c0-21.67 12-58 53.65-65.87C121 87.5 156 87.5 156 87.5s23 16 4 16-18.5 24.5 0 24.5 0 23.5 0 23.5L85.5 236z"},child:[]}]})(e)}function f(e){return p({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1"},child:[]}]})(e)}function h(e){return p({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}function g(e){let[t,r]=(0,a.useState)(!1),[s,n]=(0,a.useState)(0);return{secondTokenPrice:s,fetchingUSD:t}}r(6457);var b=r(3504),y=r(381);function w(){let e=null,t=["https://mainnet.helius-rpc.com/?api-key=36630f30-eb16-4b14-90bd-1de494fdddbd","https://solana-mainnet.g.alchemy.com/v2/VmNxXlLtr1Q4R0QiuoagXO6FD8Fvi9rz","https://solemn-proportionate-sailboat.SOLANA_MAINNET.quiknode.pro/3618d14c4338e3d38b39e240684327a449612425/"],r=0;async function i(){let e=t.length;for(let s=0;s<e;s++){let e=t[r],s=new b.Connection(e);try{return await s.getEpochInfo(),s}catch(s){console.error(`Connection failed for ${e}:`,s.message),r=(r+1)%t.length}}throw Error("All RPC nodes are currently unavailable")}let[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[d,p]=(0,a.useState)([]),[m,w]=(0,a.useState)(d[0]),[v,j]=(0,a.useState)(d[1]),[N,C]=(0,a.useState)(),{secondTokenPrice:P}=g(m),[O,S]=(0,a.useState)(0),[q,k]=(0,a.useState)(""),{publicKey:E,connected:A,wallet:T,signTransaction:L}=(0,n.O)(),[z,M]=(0,a.useState)(!1),[_,D]=(0,a.useState)(!1),{secondTokenPrice:$,fetchingUSD:I}=g(v),R=d.filter(e=>e.symbol.toLowerCase().includes(q.toLowerCase()));async function B(e,t,r){try{let s=await fetch(`https://api.jup.ag/swap/v1/quote?inputMint=${e}&outputMint=${t}&amount=${r}&slippageBps=50&restrictIntermediateTokens=true&onlyDirectRoutes=true`);if(!s.ok)throw Error(`Failed to fetch quote: ${s.statusText}`);return await s.json()}catch(e){throw e}}let U=async()=>{if(!E||!T||!L){console.error("Wallet is not connected or does not support signing.");return}try{u(!0);let t=await i(),r=0,s=null;for(;r<5;){let a=new AbortController,n=setTimeout(()=>a.abort(),15e3);try{e&&(clearInterval(e),e=null,console.log("Monitoring paused during swap."));let r=await B(m.address,v.address,(N??0)*Math.pow(10,Number(m.decimals)));console.log("Quote Data:",r);let s=await fetch("https://api.jup.ag/swap/v1/swap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteResponse:r,userPublicKey:E.toString(),dynamicComputeUnitLimit:!0,prioritizationFeeLamports:{priorityLevelWithMaxLamports:{maxLamports:2e5,priorityLevel:"medium"}}}),signal:a.signal});if(clearTimeout(n),!s.ok)throw Error(`API Error: ${s.status} - ${await s.text()}`);let i=await s.json();if(!i?.swapTransaction)throw Error("Invalid swap response from API");let o=b.VersionedTransaction.deserialize(Buffer.from(i.swapTransaction,"base64")),l=(await L(o)).serialize(),c=await t.sendRawTransaction(l,{maxRetries:2,skipPreflight:!1}),d=await t.confirmTransaction({signature:c,...await t.getLatestBlockhash()},"finalized");if(d.value.err)throw Error(`Transaction failed: ${JSON.stringify(d.value.err)}`);return y.ZP.success(`Transaction successful: https://solscan.io/tx/${c}/`),console.log(`Transaction successful: https://solscan.io/tx/${c}`),u(!1),c}catch(a){clearTimeout(n),s=a;let{shouldRetry:e,delay:t}=function(e,t,r){let s=2e3*Math.pow(2,t);if(429===e.status){let t=e.headers?.get("Retry-After");return t&&(s=Math.max(s,1e3*parseInt(t))),{shouldRetry:!0,delay:s}}return[e.message.includes("Invalid input parameters"),e.message.includes("Invalid swap response"),e.status>=400&&e.status<500].some(e=>e)?{shouldRetry:!1,delay:0}:"AbortError"===e.name||e.message.includes("network")?{shouldRetry:!0,delay:s}:{shouldRetry:!0,delay:s}}(a,r,0);if(!e||r>=4){console.error("Swap failed after maximum retries:",s);break}console.log(`Retrying in ${t/1e3} seconds...`),await new Promise(e=>setTimeout(e,t)),r++}finally{}}throw u(!1),s}catch(e){throw console.error("Swap execution failed:",e),u(!1),e}};return s.jsx("div",{className:"h-full flex items-center justify-center bg-black",children:(0,s.jsxs)("div",{className:"relative w-[35%] h-[75vh] flex flex-col gap-3",children:[s.jsx("div",{className:"absolute top-[46.5%] left-[50%] w-[33px] h-[33px] items-center flex justify-center border-[1px] rounded-md z-1 bg-[#141414] transform -translate-x-1/2 ",onClick:()=>{v&&w(v),j(m)},children:s.jsx(f,{size:22,color:"white"})}),s.jsx("p",{className:"text-[28px] text-white text-center font-medium",children:"STAY INVISIBLE"}),(0,s.jsxs)("div",{className:"w-full rounded-[18px] border h-[40%] p-6 bg-[#101012]",children:[s.jsx("p",{className:"mb-2 text-[14px] text-[#CDCDCF] font-semibold",children:"SELL"}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-white",children:[s.jsx("input",{type:"number",value:N,placeholder:"0",onChange:e=>C(Number(e.target.value)),className:"text-[25px] font-semibold bg-transparent border-none outline-none overflow-none"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{className:"w-full flex items-center px-4 py-2 gap-2 border border-gray-600 rounded-md bg-gray-800 text-white",onClick:()=>M(!0),children:[s.jsx("img",{src:m?.logo,alt:m?.symbol,className:"w-6 h-6 mr-1 rounded-full"}),m?.symbol,s.jsx(h,{})]}),z&&s.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,s.jsxs)("div",{className:"bg-gray-900 p-5 rounded-lg w-[35%]",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("h2",{className:"text-white text-lg",children:"Select a Token"}),s.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),s.jsx("input",{type:"text",placeholder:"Search token...",className:"outline-none w-full mt-3 px-3 py-2 rounded-md bg-gray-800 text-white ",onChange:e=>k(e.target.value)}),s.jsx("div",{className:"mt-3 max-h-60 overflow-y-auto",children:R.map(e=>(0,s.jsxs)("button",{className:"w-full flex items-center px-4 py-2 hover:bg-gray-700 rounded-md text-white",onClick:()=>{w(e),M(!1)},children:[s.jsx("img",{src:e.logo,alt:e.symbol,className:"w-6 h-6 mr-2 rounded-full"}),e.symbol]},e.address))})]})})]})]}),(0,s.jsxs)("div",{className:"w-full mx-auto items-center flex justify-between mt-8",children:[(0,s.jsxs)("p",{className:"font-semibold text-[15px]",children:["$",(N??0)*P]}),(0,s.jsxs)("div",{className:"flex gap-2.5 items-center",children:[s.jsx(x,{size:23}),s.jsx("span",{className:"text-[15px]",children:"1.2415"}),s.jsx("div",{className:"w-[45px] h-[25px] rounded-md font-semibold flex items-center justify-center text-[14px] bg-[#262628]",children:s.jsx("span",{className:"text-[12px] font-semibold",children:"MAX"})})]})]})]}),(0,s.jsxs)("div",{className:"w-full rounded-[18px] border h-[40%] p-6 bg-[#101012]",children:[s.jsx("p",{className:"mb-2 text-[14px] font-semibold text-[#CDCDCF] ",children:"BUY"}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("input",{type:"number",value:O,placeholder:"0",onChange:e=>S(Number(e.target.value)),className:"text-[25px] font-semibold bg-transparent border-none outline-none overflow-none text-white"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{className:"w-full flex items-center px-4 py-2 gap-2 border border-gray-600 rounded-md bg-gray-800 text-white",onClick:()=>D(!0),children:[s.jsx("img",{src:v?.logo,alt:v?.symbol,className:"w-6 h-6 mr-1 rounded-full"}),v?.symbol,s.jsx(h,{})]}),_&&s.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,s.jsxs)("div",{className:"bg-gray-900 p-5 rounded-lg w-[35%]",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("h2",{className:"text-white text-lg",children:"Select a Token"}),s.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),s.jsx("input",{type:"text",placeholder:"Search token...",className:"outline-none w-full mt-3 px-3 py-2 rounded-md bg-gray-800 text-white ",onChange:e=>k(e.target.value)}),s.jsx("div",{className:"mt-3 max-h-60 overflow-y-auto",children:R.map(e=>(0,s.jsxs)("button",{className:"w-full flex items-center px-4 py-2 hover:bg-gray-700 rounded-md text-white",onClick:()=>{j(e),D(!1)},children:[s.jsx("img",{src:e.logo,alt:e.symbol,className:"w-6 h-6 mr-2 rounded-full"}),e.symbol]},e.address))})]})})]})]}),(0,s.jsxs)("div",{className:"w-full mx-auto items-center flex justify-between mt-8",children:[(0,s.jsxs)("p",{className:"font-semibold text-[15px]",children:["$ ",O*$]}),(0,s.jsxs)("div",{className:"flex gap-2.5 items-center",children:[s.jsx(x,{size:23}),s.jsx("div",{className:"w-[45px] h-[25px] rounded-md font-semibold flex items-center justify-center text-[14px] bg-[#262628]",children:s.jsx("span",{className:"text-[12px] font-semibold",children:"MAX"})})]})]})]}),s.jsx("button",{className:"w-full rounded-[10px] flex items-center justify-center bg-white text-black h-[50px] text-[16px] cursor-pointer font-medium",onClick:A?U:()=>{document.querySelector(".wallet-adapter-button").click()},disabled:c,children:c?"Swapping...":A?null===N?"Enter an Amount":"Swap":"CONNECT WALLET"})]})})}},601:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(8570);let a=(0,s.createProxy)(String.raw`C:\Users\Dev projects\Aggregator-jup\src\app\swap\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`C:\Users\Dev projects\Aggregator-jup\src\app\swap\page.tsx#default`)},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(6621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,896,621,695],()=>r(195));module.exports=s})();